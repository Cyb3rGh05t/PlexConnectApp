<?xml version="1.0" encoding="UTF-8" ?>
{{CUT({{GET(noItems)}})}}{{
{{SET(noItems:true)}}
<document>
  <head>
    <style>
        .darkBackgroundColor {
        background-color: #262626;
        }
        .lightBackgroundColor {
        background-color: #efece6;
        }

      .showTextOnHighlight {
      tv-text-highlight-style: show-on-highlight;
      }
      .whiteButton {
      tv-tint-color: rgb(255, 255, 255);
      font-size: 20;
      margin: 40;
      tv-text-style: callout;
      
      }
      .rowLayout {
      height: 100;
      margin: 60;
      tv-align: right;
      }
      .roundedImageCorners {
      itml-img-treatment: corner-small;
      }
      .banner {
      height: 100;
      }
      .grid {
      tv-interitem-spacing: 10;
      }
    </style>
  </head>
  <stackTemplate theme="light" class="lightBackgroundColor">
    <identityBanner class="banner">
      
      <title>Quartz</title>
      <subtitle>theme for PlexConnect</subtitle>
	  <row>
        <buttonLockup onSelect="Presenter.load('Search_All', '', '')">
            <badge src="{{RESOURCEURL(TVMLTemplates/Quartz/images:searchButton:png)}}" width="50" height="50"/>
            <title>Search</title>
        </buttonLockup>
        <buttonLockup onSelect="Presenter.load('Settings', '', '')">
            <badge src="{{RESOURCEURL(TVMLTemplates/Quartz/images:settingsButton:png)}}" width="50" height="50"/>
            <title>Settings</title>
        </buttonLockup>
    </row>
    </identityBanner>
        <collectionList>

      <separator>
        <button onSelect="Presenter.load('MyPlex_Servers', '', '')">
          <text>Server: {{PMSVAL(name)}}  <badge src="resource://button-dropdown" width="31" height="14" /></text>
        </button>
      </separator>

    {{XML()}}
    {{
    
    <shelf centered="true" autoHighlight="true">
      <section>
        {{COPY(MediaContainer/Directory)}}
        {{
        {{SET(noItems:false)}}
        {{IF({{CHK("{{VAL(type:)}}"=="movie")}})}}
        {{
        <lockup
          onSelect="Presenter.load('Movie_OnDeck', '{{PMSID()}}', '{{PATH(/library/sections/{{VAL(key)}})}}')"
          onSelectHold="modal"
          >
          
          <img class="roundedImageCorners" src="{{RESOURCEURL(TVMLTemplates/Quartz/images:bannerMovie:png)}}" height="270" width="547" />
          <title><![CDATA[{{VAL(title)}}]]></title>
        </lockup>
        }}
        {{IF({{CHK("{{VAL(type:)}}"=="show")}})}}
        {{
        <lockup
          onSelect="Presenter.load('TVShow_OnDeck', '{{PMSID()}}', '{{PATH(/library/sections/{{VAL(key)}})}}')"
          onSelectHold="modal"
          >
          
          <img class="roundedImageCorners" src="{{RESOURCEURL(TVMLTemplates/Quartz/images:bannerTV:png)}}" height="270" width="547" />
          <title><![CDATA[{{VAL(title)}}]]></title>
        </lockup>
        }}
        {{IF({{CHK("{{VAL(type:)}}"=="artist")}})}}
        {{
        <lockup
          onSelect="Presenter.load('Music_OnDeck', '{{PMSID()}}', '{{PATH(/library/sections/{{VAL(key)}})}}')"
          onSelectHold="modal"
          >
          
          <img class="roundedImageCorners" src="{{RESOURCEURL(TVMLTemplates/Quartz/images:bannerMusic:png)}}" height="270" width="547" />
          <title><![CDATA[{{VAL(title)}}]]></title>
        </lockup>
        }}
        {{IF({{CHK("{{VAL(type:)}}"=="photo")}})}}
        {{
        <lockup
          onSelect="Presenter.load('Photo_OnDeck', '{{PMSID()}}', '{{PATH(/library/sections/{{VAL(key)}})}}')"
          onSelectHold="modal"
          >
          
          <img class="roundedImageCorners" src="{{RESOURCEURL(TVMLTemplates/Quartz/images:bannerPhoto:png)}}" height="270" width="547" />
          <title><![CDATA[{{VAL(title)}}]]></title>
        </lockup>
        }}
        }}
        
      </section>
      }}
     

    </shelf>
 <!-- <separator>
        <button onSelect="Presenter.load('Servers', '', '')">
            <text>Server: {{PMSVAL(name)}}  <badge src="resource://button-dropdown" width="31" height="14" /></text>
            
        </button>
    </separator> -->
    {{XML({{PATH(/library/recentlyAdded)}})}}
    {{
    <shelf>
      <header>
          <title>Recently Added</title>
      </header>
      
      <section>
        {{COPY(MediaContainer/Directory)}}
        {{
        {{SET(noItems:false)}}
        <lockup
          onSelect="Presenter.load('TVShow_EpisodeList', '{{PMSID()}}', '{{PATH({{VAL(key)}})}}')"
          onSelectHold="modal">
          
          <img src="{{IMAGEURL(parentThumb::360)}}" height="306" width="207" />
          <title><![CDATA[{{VAL(title)}}]]></title>
          
        </lockup>
        }}{{COPY(MediaContainer/Video)}}
        {{
        {{SET(noItems:false)}}
        <lockup
          onSelect="Presenter.load('Movie_PrePlay', '{{PMSID()}}', '{{PATH({{VAL(key)}})}}')"
          onSelectHold="modal"
          >
          
          <img src="{{IMAGEURL(thumb::360)}}" height="306" width="207" />
          <title><![CDATA[{{VAL(title)}}]]></title>
          
        </lockup>
        }}
        
      </section>
      }}
    
    </shelf>
    {{XML({{PATH(/library/onDeck)}})}}
    {{
    <shelf>
      <header>
          <title>OnDeck</title>
      </header>
      
      <section>
        {{COPY(MediaContainer/Video)}}
        {{
        {{SET(noItems:false)}}
        {{IF({{CHK("{{VAL(type:)}}"=="episode")}})}}
        {{
        <lockup
          onSelect="Presenter.load('TVShow_PrePlay', '{{PMSID()}}', '{{PATH({{VAL(key)}})}}')"
          onSelectHold="modal"
          >
          
          <img src="{{IMAGEURL(grandparentThumb::360)}}" height="306" width="207" />
          <title><![CDATA[{{VAL(parentIndex)}}.{{VAL(index)}} - ]]><![CDATA[{{VAL(title)}}]]></title>
          
        </lockup>
        }}
        {{IF({{CHK("{{VAL(type:)}}"=="movie")}})}}
        {{
        <lockup
          onSelect="Presenter.load('Movie_PrePlay', '{{PMSID()}}', '{{PATH({{VAL(key)}})}}')"
          onSelectHold="modal"
          >
          
          <img src="{{IMAGEURL(thumb::360)}}" height="306" width="207" />
          <title><![CDATA[{{VAL(title)}}]]></title>
          
        </lockup>
        }}
        
        }}
      </section>
      }}
    
    </shelf>
    
    {{XML({{PATH(/playlists/)}})}}{{
    <shelf>
      <header>
          <title>Playlists</title>
      </header>
      
      <section>
        {{COPY(MediaContainer/Playlist)}}
        {{
        {{SET(noItems:false)}}
        {{IF({{CHK("{{VAL(type:)}}"=="playlist")}})}}
        {{
        {{IF({{CHK("{{VAL(playlistType:)}}"=="video")}})}}
        {{
        <lockup
          onSelect="Presenter.load('Playlists_Video', '{{PMSID()}}', '{{PATH({{VAL(key)}})}}')"
          onSelectHold="modal"
          >
          
          <img src="{{IMAGEURL(composite::360)}}" height="306" width="306" />
          <title><![CDATA[{{VAL(title)}}]]></title>
          
        </lockup>
        }}
        {{IF({{CHK("{{VAL(playlistType:)}}"=="audio")}})}}
        {{
        <lockup
          onSelect="Presenter.load('Playlists_Audio', '{{PMSID()}}', '{{PATH({{VAL(key)}})}}')"
          onSelectHold="modal"
          >
          
          <img src="{{IMAGEURL(composite::360)}}" height="306" width="306" />
          <title><![CDATA[{{VAL(title)}}]]></title>
          
        </lockup>
        }}
        }}
        
        }}
        
      </section>
      }}
    
    </shelf>
    
    

    
 
  </collectionList>



</stackTemplate>
  
  
</document>
}}

{{IF({{GET(noItems)}})}}{{  <!--enable if no items added-->
<document>
  <alertTemplate>
    <title>TITLE</title>
    <description>{{TEXT(Plex Media Server: No Items Available)}}</description>
  </alertTemplate>
</document>
}}
